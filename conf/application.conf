play {
  http {
    secret.key   = "CHANGE_ME"
    errorHandler = "com.mehmetakiftutuncu.muezzinapi.ErrorHandler"
  }

  filters.hosts {
    allowed = ["muezzin.herokuapp.com", "muezzin-staging.herokuapp.com", "localhost:9000"]
  }

  editor           = "http://localhost:63342/api/file/?file=%s&line=%s"
  i18n.langs       = [ "en" ]
  modules.enabled += "com.mehmetakiftutuncu.muezzinapi.Modules"

  ws.ssl {
    trustManager = {
      stores = [
        { type = "PEM", path = "conf/diyanet.crt" } # Added trust store
        { path: ${java.home}/lib/security/cacerts } # Fallback to default JSSE trust store
      ]
    }
  }
}

muezzinApi {
  broom {
    enabled      = true
    initialDelay = 1 minute
    interval     = 1 hour
    effect       = 1 day
  }

  cache {
    timeout = 2 hours
  }

  dateFormatter {
    format  = "yyyy-MM-dd"
    diyanet = "dd MMMM yyyy EEEE"
  }

  diyanet {
    countriesUrl   = "https://namazvakitleri.diyanet.gov.tr/tr-TR"
    citiesUrl      = "https://namazvakitleri.diyanet.gov.tr/tr-TR/home/GetRegList"
    districtsUrl   = "https://namazvakitleri.diyanet.gov.tr/tr-TR/home/GetRegList"
    prayerTimesUrl = "https://namazvakitleri.diyanet.gov.tr/tr-TR/%s"
  }

  firebaseRealtimeDatabase {
    credentialsFile = "conf/credentials.json"
    databaseUrl     = "https://muezzin-cb075.firebaseio.com"
  }

  heartbeat {
    host     = "http://localhost:9000"
    interval = 1 minute
  }

  nuke {
    code = "CHANGE_ME"
  }

  shovel {
    enabled      = true
    initialDelay = 30 seconds
    interval     = 1 hour
  }

  ws {
    timeout = 15 seconds
  }
}
